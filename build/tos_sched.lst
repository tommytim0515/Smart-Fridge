ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"tos_sched.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.readyqueue_prio_highest_get,"ax",%progbits
  16              		.align	1
  17              		.arch armv7-m
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	readyqueue_prio_highest_get:
  24              	.LFB110:
  25              		.file 1 "..//kernel/core/tos_sched.c"
   1:..//kernel/core/tos_sched.c **** /*----------------------------------------------------------------------------
   2:..//kernel/core/tos_sched.c ****  * Tencent is pleased to support the open source community by making TencentOS
   3:..//kernel/core/tos_sched.c ****  * available.
   4:..//kernel/core/tos_sched.c ****  *
   5:..//kernel/core/tos_sched.c ****  * Copyright (C) 2019 THL A29 Limited, a Tencent company. All rights reserved.
   6:..//kernel/core/tos_sched.c ****  * If you have downloaded a copy of the TencentOS binary from Tencent, please
   7:..//kernel/core/tos_sched.c ****  * note that the TencentOS binary is licensed under the BSD 3-Clause License.
   8:..//kernel/core/tos_sched.c ****  *
   9:..//kernel/core/tos_sched.c ****  * If you have downloaded a copy of the TencentOS source code from Tencent,
  10:..//kernel/core/tos_sched.c ****  * please note that TencentOS source code is licensed under the BSD 3-Clause
  11:..//kernel/core/tos_sched.c ****  * License, except for the third-party components listed below which are
  12:..//kernel/core/tos_sched.c ****  * subject to different license terms. Your integration of TencentOS into your
  13:..//kernel/core/tos_sched.c ****  * own projects may require compliance with the BSD 3-Clause License, as well
  14:..//kernel/core/tos_sched.c ****  * as the other licenses applicable to the third-party components included
  15:..//kernel/core/tos_sched.c ****  * within TencentOS.
  16:..//kernel/core/tos_sched.c ****  *---------------------------------------------------------------------------*/
  17:..//kernel/core/tos_sched.c **** 
  18:..//kernel/core/tos_sched.c **** #include "tos_k.h"
  19:..//kernel/core/tos_sched.c **** 
  20:..//kernel/core/tos_sched.c **** __STATIC__ k_prio_t readyqueue_prio_highest_get(void)
  21:..//kernel/core/tos_sched.c **** {
  26              		.loc 1 21 1 view -0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30 0000 10B5     		push	{r4, lr}
  31              	.LCFI0:
  32              		.cfi_def_cfa_offset 8
  33              		.cfi_offset 4, -8
  34              		.cfi_offset 14, -4
  22:..//kernel/core/tos_sched.c ****     uint32_t *tbl;
  35              		.loc 1 22 5 view .LVU1
  23:..//kernel/core/tos_sched.c ****     k_prio_t prio;
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 2


  36              		.loc 1 23 5 view .LVU2
  24:..//kernel/core/tos_sched.c **** 
  25:..//kernel/core/tos_sched.c ****     prio    = 0;
  37              		.loc 1 25 5 view .LVU3
  38              	.LVL0:
  26:..//kernel/core/tos_sched.c ****     tbl     = &k_rdyq.prio_mask[0];
  39              		.loc 1 26 5 view .LVU4
  27:..//kernel/core/tos_sched.c **** 
  28:..//kernel/core/tos_sched.c ****     while (*tbl == 0) {
  40              		.loc 1 28 5 view .LVU5
  25:..//kernel/core/tos_sched.c ****     tbl     = &k_rdyq.prio_mask[0];
  41              		.loc 1 25 13 is_stmt 0 view .LVU6
  42 0002 0024     		movs	r4, #0
  26:..//kernel/core/tos_sched.c ****     tbl     = &k_rdyq.prio_mask[0];
  43              		.loc 1 26 13 view .LVU7
  44 0004 054B     		ldr	r3, .L6
  45              	.LVL1:
  46              	.L2:
  47              		.loc 1 28 12 view .LVU8
  48 0006 1868     		ldr	r0, [r3]
  49              		.loc 1 28 11 view .LVU9
  50 0008 18B9     		cbnz	r0, .L5
  29:..//kernel/core/tos_sched.c ****         prio += K_PRIO_TBL_SLOT_SIZE;
  51              		.loc 1 29 9 is_stmt 1 view .LVU10
  52              		.loc 1 29 14 is_stmt 0 view .LVU11
  53 000a 2034     		adds	r4, r4, #32
  54              	.LVL2:
  55              		.loc 1 29 14 view .LVU12
  56 000c E4B2     		uxtb	r4, r4
  57              	.LVL3:
  30:..//kernel/core/tos_sched.c ****         ++tbl;
  58              		.loc 1 30 9 is_stmt 1 view .LVU13
  59 000e 0433     		adds	r3, r3, #4
  60              	.LVL4:
  61              		.loc 1 30 9 is_stmt 0 view .LVU14
  62 0010 F9E7     		b	.L2
  63              	.L5:
  31:..//kernel/core/tos_sched.c ****     }
  32:..//kernel/core/tos_sched.c ****     prio += tos_cpu_clz(*tbl);
  64              		.loc 1 32 5 is_stmt 1 view .LVU15
  65              		.loc 1 32 13 is_stmt 0 view .LVU16
  66 0012 FFF7FEFF 		bl	tos_cpu_clz
  67              	.LVL5:
  68              		.loc 1 32 10 view .LVU17
  69 0016 2044     		add	r0, r0, r4
  70              	.LVL6:
  33:..//kernel/core/tos_sched.c ****     return prio;
  71              		.loc 1 33 5 is_stmt 1 view .LVU18
  34:..//kernel/core/tos_sched.c **** }
  72              		.loc 1 34 1 is_stmt 0 view .LVU19
  73 0018 C0B2     		uxtb	r0, r0
  74              		.loc 1 34 1 view .LVU20
  75 001a 10BD     		pop	{r4, pc}
  76              	.L7:
  77              		.align	2
  78              	.L6:
  79 001c 40000000 		.word	k_rdyq+64
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 3


  80              		.cfi_endproc
  81              	.LFE110:
  83              		.section	.text.readyqueue_is_prio_onlyone,"ax",%progbits
  84              		.align	1
  85              		.global	readyqueue_is_prio_onlyone
  86              		.syntax unified
  87              		.thumb
  88              		.thumb_func
  89              		.fpu softvfp
  91              	readyqueue_is_prio_onlyone:
  92              	.LVL7:
  93              	.LFB114:
  35:..//kernel/core/tos_sched.c **** 
  36:..//kernel/core/tos_sched.c **** __STATIC_INLINE__ void readyqueue_prio_insert(k_prio_t prio)
  37:..//kernel/core/tos_sched.c **** {
  38:..//kernel/core/tos_sched.c ****     k_rdyq.prio_mask[K_PRIO_NDX(prio)] |= K_PRIO_BIT(prio);
  39:..//kernel/core/tos_sched.c **** }
  40:..//kernel/core/tos_sched.c **** 
  41:..//kernel/core/tos_sched.c **** __STATIC_INLINE__ void readyqueue_prio_remove(k_prio_t prio)
  42:..//kernel/core/tos_sched.c **** {
  43:..//kernel/core/tos_sched.c ****     k_rdyq.prio_mask[K_PRIO_NDX(prio)] &= ~K_PRIO_BIT(prio);
  44:..//kernel/core/tos_sched.c **** }
  45:..//kernel/core/tos_sched.c **** 
  46:..//kernel/core/tos_sched.c **** __STATIC_INLINE__ void readyqueue_prio_mark(k_prio_t prio)
  47:..//kernel/core/tos_sched.c **** {
  48:..//kernel/core/tos_sched.c ****     readyqueue_prio_insert(prio);
  49:..//kernel/core/tos_sched.c **** 
  50:..//kernel/core/tos_sched.c ****     if (prio < k_rdyq.highest_prio) {
  51:..//kernel/core/tos_sched.c ****         k_rdyq.highest_prio = prio;
  52:..//kernel/core/tos_sched.c ****     }
  53:..//kernel/core/tos_sched.c **** }
  54:..//kernel/core/tos_sched.c **** 
  55:..//kernel/core/tos_sched.c **** /**
  56:..//kernel/core/tos_sched.c ****  * when this function involved, must be at least one task in the task list of the certain priority
  57:..//kernel/core/tos_sched.c ****  */
  58:..//kernel/core/tos_sched.c **** __KNL__ int readyqueue_is_prio_onlyone(k_prio_t prio)
  59:..//kernel/core/tos_sched.c **** {
  94              		.loc 1 59 1 is_stmt 1 view -0
  95              		.cfi_startproc
  96              		@ args = 0, pretend = 0, frame = 0
  97              		@ frame_needed = 0, uses_anonymous_args = 0
  98              		@ link register save eliminated.
  60:..//kernel/core/tos_sched.c ****     k_list_t *task_list;
  99              		.loc 1 60 5 view .LVU22
  61:..//kernel/core/tos_sched.c ****     k_task_t *task;
 100              		.loc 1 61 5 view .LVU23
  62:..//kernel/core/tos_sched.c **** 
  63:..//kernel/core/tos_sched.c ****     task_list = &k_rdyq.task_list_head[prio];
 101              		.loc 1 63 5 view .LVU24
 102              		.loc 1 63 15 is_stmt 0 view .LVU25
 103 0000 054B     		ldr	r3, .L9
 104 0002 03EBC002 		add	r2, r3, r0, lsl #3
 105              	.LVL8:
  64:..//kernel/core/tos_sched.c ****     task = TOS_LIST_FIRST_ENTRY(task_list, k_task_t, pend_list);
 106              		.loc 1 64 5 is_stmt 1 view .LVU26
 107              		.loc 1 64 12 is_stmt 0 view .LVU27
 108 0006 53F83030 		ldr	r3, [r3, r0, lsl #3]
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 4


 109              	.LVL9:
  65:..//kernel/core/tos_sched.c ****     return task->pend_list.next == task_list;
 110              		.loc 1 65 5 is_stmt 1 view .LVU28
 111              		.loc 1 65 27 is_stmt 0 view .LVU29
 112 000a 1868     		ldr	r0, [r3]
 113              	.LVL10:
  66:..//kernel/core/tos_sched.c **** }
 114              		.loc 1 66 1 view .LVU30
 115 000c 9042     		cmp	r0, r2
 116 000e 14BF     		ite	ne
 117 0010 0020     		movne	r0, #0
 118 0012 0120     		moveq	r0, #1
 119 0014 7047     		bx	lr
 120              	.L10:
 121 0016 00BF     		.align	2
 122              	.L9:
 123 0018 00000000 		.word	k_rdyq
 124              		.cfi_endproc
 125              	.LFE114:
 127              		.section	.text.readyqueue_first_task_get,"ax",%progbits
 128              		.align	1
 129              		.global	readyqueue_first_task_get
 130              		.syntax unified
 131              		.thumb
 132              		.thumb_func
 133              		.fpu softvfp
 135              	readyqueue_first_task_get:
 136              	.LVL11:
 137              	.LFB115:
  67:..//kernel/core/tos_sched.c **** 
  68:..//kernel/core/tos_sched.c **** __KNL__ k_task_t *readyqueue_first_task_get(k_prio_t prio)
  69:..//kernel/core/tos_sched.c **** {
 138              		.loc 1 69 1 is_stmt 1 view -0
 139              		.cfi_startproc
 140              		@ args = 0, pretend = 0, frame = 0
 141              		@ frame_needed = 0, uses_anonymous_args = 0
 142              		@ link register save eliminated.
  70:..//kernel/core/tos_sched.c ****     k_list_t *task_list;
 143              		.loc 1 70 5 view .LVU32
  71:..//kernel/core/tos_sched.c **** 
  72:..//kernel/core/tos_sched.c ****     task_list = &k_rdyq.task_list_head[prio];
 144              		.loc 1 72 5 view .LVU33
 145              		.loc 1 72 15 is_stmt 0 view .LVU34
 146 0000 054B     		ldr	r3, .L14
 147 0002 03EBC002 		add	r2, r3, r0, lsl #3
 148              	.LVL12:
  73:..//kernel/core/tos_sched.c ****     return TOS_LIST_FIRST_ENTRY_OR_NULL(task_list, k_task_t, pend_list);
 149              		.loc 1 73 5 is_stmt 1 view .LVU35
 150              	.LBB64:
 151              	.LBI64:
 152              		.file 2 "..//kernel/core/include/tos_list.h"
   1:..//kernel/core/include/tos_list.h **** /*----------------------------------------------------------------------------
   2:..//kernel/core/include/tos_list.h ****  * Tencent is pleased to support the open source community by making TencentOS
   3:..//kernel/core/include/tos_list.h ****  * available.
   4:..//kernel/core/include/tos_list.h ****  *
   5:..//kernel/core/include/tos_list.h ****  * Copyright (C) 2019 THL A29 Limited, a Tencent company. All rights reserved.
   6:..//kernel/core/include/tos_list.h ****  * If you have downloaded a copy of the TencentOS binary from Tencent, please
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 5


   7:..//kernel/core/include/tos_list.h ****  * note that the TencentOS binary is licensed under the BSD 3-Clause License.
   8:..//kernel/core/include/tos_list.h ****  *
   9:..//kernel/core/include/tos_list.h ****  * If you have downloaded a copy of the TencentOS source code from Tencent,
  10:..//kernel/core/include/tos_list.h ****  * please note that TencentOS source code is licensed under the BSD 3-Clause
  11:..//kernel/core/include/tos_list.h ****  * License, except for the third-party components listed below which are
  12:..//kernel/core/include/tos_list.h ****  * subject to different license terms. Your integration of TencentOS into your
  13:..//kernel/core/include/tos_list.h ****  * own projects may require compliance with the BSD 3-Clause License, as well
  14:..//kernel/core/include/tos_list.h ****  * as the other licenses applicable to the third-party components included
  15:..//kernel/core/include/tos_list.h ****  * within TencentOS.
  16:..//kernel/core/include/tos_list.h ****  *---------------------------------------------------------------------------*/
  17:..//kernel/core/include/tos_list.h **** 
  18:..//kernel/core/include/tos_list.h **** #ifndef _TOS_LIST_H_
  19:..//kernel/core/include/tos_list.h **** #define  _TOS_LIST_H_
  20:..//kernel/core/include/tos_list.h **** 
  21:..//kernel/core/include/tos_list.h **** __CDECLS_BEGIN
  22:..//kernel/core/include/tos_list.h **** 
  23:..//kernel/core/include/tos_list.h **** typedef struct k_list_node_st {
  24:..//kernel/core/include/tos_list.h ****     struct k_list_node_st *next;
  25:..//kernel/core/include/tos_list.h ****     struct k_list_node_st *prev;
  26:..//kernel/core/include/tos_list.h **** } k_list_t;
  27:..//kernel/core/include/tos_list.h **** 
  28:..//kernel/core/include/tos_list.h **** #define TOS_LIST_NODE(node) \
  29:..//kernel/core/include/tos_list.h ****     { &(node), &(node) }
  30:..//kernel/core/include/tos_list.h **** 
  31:..//kernel/core/include/tos_list.h **** #define TOS_LIST_DEFINE(list) \
  32:..//kernel/core/include/tos_list.h ****     k_list_t list = { &(list), &(list) }
  33:..//kernel/core/include/tos_list.h **** 
  34:..//kernel/core/include/tos_list.h **** #define TOS_LIST_ENTRY(node, type, field) \
  35:..//kernel/core/include/tos_list.h ****     TOS_CONTAINER_OF_FIELD(node, type, field)
  36:..//kernel/core/include/tos_list.h **** 
  37:..//kernel/core/include/tos_list.h **** #define TOS_LIST_FIRST_ENTRY(list, type, field) \
  38:..//kernel/core/include/tos_list.h ****     TOS_LIST_ENTRY((list)->next, type, field)
  39:..//kernel/core/include/tos_list.h **** 
  40:..//kernel/core/include/tos_list.h **** #define TOS_LIST_FIRST_ENTRY_OR_NULL(list, type, field) \
  41:..//kernel/core/include/tos_list.h ****     (tos_list_empty(list) ? K_NULL : TOS_LIST_FIRST_ENTRY(list, type, field))
  42:..//kernel/core/include/tos_list.h **** 
  43:..//kernel/core/include/tos_list.h **** #define TOS_LIST_FOR_EACH(curr, list) \
  44:..//kernel/core/include/tos_list.h ****     for (curr = (list)->next; curr != (list); curr = curr->next)
  45:..//kernel/core/include/tos_list.h **** 
  46:..//kernel/core/include/tos_list.h **** #define TOS_LIST_FOR_EACH_PREV(curr, list) \
  47:..//kernel/core/include/tos_list.h ****     for (curr = (list)->prev; curr != (list); curr = curr->prev)
  48:..//kernel/core/include/tos_list.h **** 
  49:..//kernel/core/include/tos_list.h **** #define TOS_LIST_FOR_EACH_SAFE(curr, next, list) \
  50:..//kernel/core/include/tos_list.h ****     for (curr = (list)->next, next = curr->next; curr != (list); \
  51:..//kernel/core/include/tos_list.h ****             curr = next, next = curr->next)
  52:..//kernel/core/include/tos_list.h **** 
  53:..//kernel/core/include/tos_list.h **** #define TOS_LIST_FOR_EACH_PREV_SAFE(curr, next, list) \
  54:..//kernel/core/include/tos_list.h ****     for (curr = (list)->prev, next = curr->prev; \
  55:..//kernel/core/include/tos_list.h ****             curr != (list); \
  56:..//kernel/core/include/tos_list.h ****             curr = next, next = curr->prev)
  57:..//kernel/core/include/tos_list.h **** 
  58:..//kernel/core/include/tos_list.h **** #define TOS_LIST_FOR_EACH_ENTRY(entry, type, field, list) \
  59:..//kernel/core/include/tos_list.h ****     for (entry = TOS_LIST_ENTRY((list)->next, type, field); \
  60:..//kernel/core/include/tos_list.h ****         &entry->field != (list); \
  61:..//kernel/core/include/tos_list.h ****         entry = TOS_LIST_ENTRY(entry->field.next, type, field))
  62:..//kernel/core/include/tos_list.h **** 
  63:..//kernel/core/include/tos_list.h **** #define TOS_LIST_FOR_EACH_ENTRY_REVERSE(entry, type, field, list) \
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 6


  64:..//kernel/core/include/tos_list.h ****     for (entry = TOS_LIST_ENTRY((list)->prev, type, field); \
  65:..//kernel/core/include/tos_list.h ****             &entry->field != (list); \
  66:..//kernel/core/include/tos_list.h ****             entry = TOS_LIST_ENTRY(entry->field.prev, type, field))
  67:..//kernel/core/include/tos_list.h **** 
  68:..//kernel/core/include/tos_list.h **** #define TOS_LIST_FOR_EACH_ENTRY_SAFE(entry, tmp, type, field, list) \
  69:..//kernel/core/include/tos_list.h ****     for (entry = TOS_LIST_ENTRY((list)->next, type, field), \
  70:..//kernel/core/include/tos_list.h ****             tmp = TOS_LIST_ENTRY(entry->field.next, type, field); \
  71:..//kernel/core/include/tos_list.h ****             &entry->field != (list); \
  72:..//kernel/core/include/tos_list.h ****             entry = tmp, tmp = TOS_LIST_ENTRY(entry->field.next, type, field))
  73:..//kernel/core/include/tos_list.h **** 
  74:..//kernel/core/include/tos_list.h **** #define TOS_LIST_FOR_EACH_ENTRY_SAFE_REVERSE(entry, tmp, type, field, list) \
  75:..//kernel/core/include/tos_list.h ****     for (entry = TOS_LIST_ENTRY((list)->prev, type, field), \
  76:..//kernel/core/include/tos_list.h ****             tmp = TOS_LIST_ENTRY(entry->field.prev, type, field); \
  77:..//kernel/core/include/tos_list.h ****             &entry->field != (list); \
  78:..//kernel/core/include/tos_list.h ****             entry = tmp, tmp = TOS_LIST_ENTRY(entry->field.prev, type, field))
  79:..//kernel/core/include/tos_list.h **** 
  80:..//kernel/core/include/tos_list.h **** __STATIC_INLINE__ void _list_add(k_list_t *node, k_list_t *prev, k_list_t *next)
  81:..//kernel/core/include/tos_list.h **** {
  82:..//kernel/core/include/tos_list.h ****     next->prev = node;
  83:..//kernel/core/include/tos_list.h ****     node->next = next;
  84:..//kernel/core/include/tos_list.h ****     node->prev = prev;
  85:..//kernel/core/include/tos_list.h ****     prev->next = node;
  86:..//kernel/core/include/tos_list.h **** }
  87:..//kernel/core/include/tos_list.h **** 
  88:..//kernel/core/include/tos_list.h **** __STATIC_INLINE__ void _list_del(k_list_t *prev, k_list_t *next)
  89:..//kernel/core/include/tos_list.h **** {
  90:..//kernel/core/include/tos_list.h ****     next->prev = prev;
  91:..//kernel/core/include/tos_list.h ****     prev->next = next;
  92:..//kernel/core/include/tos_list.h **** }
  93:..//kernel/core/include/tos_list.h **** 
  94:..//kernel/core/include/tos_list.h **** __STATIC_INLINE__ void _list_del_node(k_list_t *node)
  95:..//kernel/core/include/tos_list.h **** {
  96:..//kernel/core/include/tos_list.h ****     _list_del(node->prev, node->next);
  97:..//kernel/core/include/tos_list.h **** }
  98:..//kernel/core/include/tos_list.h **** 
  99:..//kernel/core/include/tos_list.h **** __API__ __STATIC_INLINE__ void tos_list_init(k_list_t *list)
 100:..//kernel/core/include/tos_list.h **** {
 101:..//kernel/core/include/tos_list.h ****     list->next = list;
 102:..//kernel/core/include/tos_list.h ****     list->prev = list;
 103:..//kernel/core/include/tos_list.h **** }
 104:..//kernel/core/include/tos_list.h **** 
 105:..//kernel/core/include/tos_list.h **** __API__ __STATIC_INLINE__ void tos_list_add(k_list_t *node, k_list_t *list)
 106:..//kernel/core/include/tos_list.h **** {
 107:..//kernel/core/include/tos_list.h ****     _list_add(node, list, list->next);
 108:..//kernel/core/include/tos_list.h **** }
 109:..//kernel/core/include/tos_list.h **** 
 110:..//kernel/core/include/tos_list.h **** __API__ __STATIC_INLINE__ void tos_list_add_tail(k_list_t *node, k_list_t *list)
 111:..//kernel/core/include/tos_list.h **** {
 112:..//kernel/core/include/tos_list.h ****     _list_add(node, list->prev, list);
 113:..//kernel/core/include/tos_list.h **** }
 114:..//kernel/core/include/tos_list.h **** 
 115:..//kernel/core/include/tos_list.h **** __API__ __STATIC_INLINE__ void tos_list_del(k_list_t *node)
 116:..//kernel/core/include/tos_list.h **** {
 117:..//kernel/core/include/tos_list.h ****     _list_del(node->prev, node->next);
 118:..//kernel/core/include/tos_list.h **** }
 119:..//kernel/core/include/tos_list.h **** 
 120:..//kernel/core/include/tos_list.h **** __API__ __STATIC_INLINE__ void tos_list_del_init(k_list_t *node)
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 7


 121:..//kernel/core/include/tos_list.h **** {
 122:..//kernel/core/include/tos_list.h ****     _list_del_node(node);
 123:..//kernel/core/include/tos_list.h ****     tos_list_init(node);
 124:..//kernel/core/include/tos_list.h **** }
 125:..//kernel/core/include/tos_list.h **** 
 126:..//kernel/core/include/tos_list.h **** __API__ __STATIC_INLINE__ void tos_list_move(k_list_t *node, k_list_t *list)
 127:..//kernel/core/include/tos_list.h **** {
 128:..//kernel/core/include/tos_list.h ****     _list_del_node(node);
 129:..//kernel/core/include/tos_list.h ****     tos_list_add(node, list);
 130:..//kernel/core/include/tos_list.h **** }
 131:..//kernel/core/include/tos_list.h **** 
 132:..//kernel/core/include/tos_list.h **** __API__ __STATIC_INLINE__ void tos_list_move_tail(k_list_t *node, k_list_t *list)
 133:..//kernel/core/include/tos_list.h **** {
 134:..//kernel/core/include/tos_list.h ****     _list_del_node(node);
 135:..//kernel/core/include/tos_list.h ****     tos_list_add_tail(node, list);
 136:..//kernel/core/include/tos_list.h **** }
 137:..//kernel/core/include/tos_list.h **** 
 138:..//kernel/core/include/tos_list.h **** __API__ __STATIC_INLINE__ int tos_list_empty(const k_list_t *list)
 153              		.loc 2 138 31 view .LVU36
 154              	.LBB65:
 139:..//kernel/core/include/tos_list.h **** {
 140:..//kernel/core/include/tos_list.h ****     return list->next == list;
 155              		.loc 2 140 5 view .LVU37
 156              		.loc 2 140 16 is_stmt 0 view .LVU38
 157 0006 53F83000 		ldr	r0, [r3, r0, lsl #3]
 158              	.LVL13:
 159              		.loc 2 140 16 view .LVU39
 160              	.LBE65:
 161              	.LBE64:
 162              		.loc 1 73 12 view .LVU40
 163 000a 8242     		cmp	r2, r0
 164 000c 01D0     		beq	.L13
 165              		.loc 1 73 12 discriminator 1 view .LVU41
 166 000e 5038     		subs	r0, r0, #80
 167 0010 7047     		bx	lr
 168              	.L13:
 169              		.loc 1 73 12 view .LVU42
 170 0012 0020     		movs	r0, #0
  74:..//kernel/core/tos_sched.c **** }
 171              		.loc 1 74 1 view .LVU43
 172 0014 7047     		bx	lr
 173              	.L15:
 174 0016 00BF     		.align	2
 175              	.L14:
 176 0018 00000000 		.word	k_rdyq
 177              		.cfi_endproc
 178              	.LFE115:
 180              		.section	.text.readyqueue_highest_ready_task_get,"ax",%progbits
 181              		.align	1
 182              		.global	readyqueue_highest_ready_task_get
 183              		.syntax unified
 184              		.thumb
 185              		.thumb_func
 186              		.fpu softvfp
 188              	readyqueue_highest_ready_task_get:
 189              	.LFB116:
  75:..//kernel/core/tos_sched.c **** 
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 8


  76:..//kernel/core/tos_sched.c **** __KNL__ k_task_t *readyqueue_highest_ready_task_get(void)
  77:..//kernel/core/tos_sched.c **** {
 190              		.loc 1 77 1 is_stmt 1 view -0
 191              		.cfi_startproc
 192              		@ args = 0, pretend = 0, frame = 0
 193              		@ frame_needed = 0, uses_anonymous_args = 0
 194              		@ link register save eliminated.
  78:..//kernel/core/tos_sched.c ****     k_list_t *task_list;
 195              		.loc 1 78 5 view .LVU45
  79:..//kernel/core/tos_sched.c **** 
  80:..//kernel/core/tos_sched.c ****     task_list = &k_rdyq.task_list_head[k_rdyq.highest_prio];
 196              		.loc 1 80 5 view .LVU46
 197              		.loc 1 80 46 is_stmt 0 view .LVU47
 198 0000 034B     		ldr	r3, .L17
 199 0002 93F84420 		ldrb	r2, [r3, #68]	@ zero_extendqisi2
 200              	.LVL14:
  81:..//kernel/core/tos_sched.c ****     return TOS_LIST_FIRST_ENTRY(task_list, k_task_t, pend_list);
 201              		.loc 1 81 5 is_stmt 1 view .LVU48
 202              		.loc 1 81 12 is_stmt 0 view .LVU49
 203 0006 53F83200 		ldr	r0, [r3, r2, lsl #3]
  82:..//kernel/core/tos_sched.c **** }
 204              		.loc 1 82 1 view .LVU50
 205 000a 5038     		subs	r0, r0, #80
 206 000c 7047     		bx	lr
 207              	.L18:
 208 000e 00BF     		.align	2
 209              	.L17:
 210 0010 00000000 		.word	k_rdyq
 211              		.cfi_endproc
 212              	.LFE116:
 214              		.section	.text.readyqueue_init,"ax",%progbits
 215              		.align	1
 216              		.global	readyqueue_init
 217              		.syntax unified
 218              		.thumb
 219              		.thumb_func
 220              		.fpu softvfp
 222              	readyqueue_init:
 223              	.LFB117:
  83:..//kernel/core/tos_sched.c **** 
  84:..//kernel/core/tos_sched.c **** __KNL__ void readyqueue_init(void)
  85:..//kernel/core/tos_sched.c **** {
 224              		.loc 1 85 1 is_stmt 1 view -0
 225              		.cfi_startproc
 226              		@ args = 0, pretend = 0, frame = 0
 227              		@ frame_needed = 0, uses_anonymous_args = 0
 228              		@ link register save eliminated.
  86:..//kernel/core/tos_sched.c ****     uint8_t i;
 229              		.loc 1 86 5 view .LVU52
  87:..//kernel/core/tos_sched.c **** 
  88:..//kernel/core/tos_sched.c ****     k_rdyq.highest_prio = TOS_CFG_TASK_PRIO_MAX;
 230              		.loc 1 88 5 view .LVU53
 231              		.loc 1 88 25 is_stmt 0 view .LVU54
 232 0000 0D4B     		ldr	r3, .L24
 233 0002 0822     		movs	r2, #8
 234 0004 83F84420 		strb	r2, [r3, #68]
  89:..//kernel/core/tos_sched.c **** 
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 9


  90:..//kernel/core/tos_sched.c ****     for (i = 0; i < TOS_CFG_TASK_PRIO_MAX; ++i) {
 235              		.loc 1 90 5 is_stmt 1 view .LVU55
 236              	.LVL15:
 237              		.loc 1 90 12 is_stmt 0 view .LVU56
 238 0008 0023     		movs	r3, #0
 239              		.loc 1 90 5 view .LVU57
 240 000a 07E0     		b	.L20
 241              	.LVL16:
 242              	.L21:
  91:..//kernel/core/tos_sched.c ****         tos_list_init(&k_rdyq.task_list_head[i]);
 243              		.loc 1 91 9 is_stmt 1 discriminator 3 view .LVU58
 244 000c 0A49     		ldr	r1, .L24
 245 000e 01EBC302 		add	r2, r1, r3, lsl #3
 246              	.LVL17:
 247              	.LBB66:
 248              	.LBI66:
  99:..//kernel/core/include/tos_list.h **** {
 249              		.loc 2 99 32 discriminator 3 view .LVU59
 250              	.LBB67:
 101:..//kernel/core/include/tos_list.h ****     list->prev = list;
 251              		.loc 2 101 5 discriminator 3 view .LVU60
 101:..//kernel/core/include/tos_list.h ****     list->prev = list;
 252              		.loc 2 101 16 is_stmt 0 discriminator 3 view .LVU61
 253 0012 41F83320 		str	r2, [r1, r3, lsl #3]
 102:..//kernel/core/include/tos_list.h **** }
 254              		.loc 2 102 5 is_stmt 1 discriminator 3 view .LVU62
 102:..//kernel/core/include/tos_list.h **** }
 255              		.loc 2 102 16 is_stmt 0 discriminator 3 view .LVU63
 256 0016 5260     		str	r2, [r2, #4]
 257              	.LVL18:
 102:..//kernel/core/include/tos_list.h **** }
 258              		.loc 2 102 16 discriminator 3 view .LVU64
 259              	.LBE67:
 260              	.LBE66:
  90:..//kernel/core/tos_sched.c ****         tos_list_init(&k_rdyq.task_list_head[i]);
 261              		.loc 1 90 44 discriminator 3 view .LVU65
 262 0018 0133     		adds	r3, r3, #1
 263              	.LVL19:
  90:..//kernel/core/tos_sched.c ****         tos_list_init(&k_rdyq.task_list_head[i]);
 264              		.loc 1 90 44 discriminator 3 view .LVU66
 265 001a DBB2     		uxtb	r3, r3
 266              	.LVL20:
 267              	.L20:
  90:..//kernel/core/tos_sched.c ****         tos_list_init(&k_rdyq.task_list_head[i]);
 268              		.loc 1 90 5 discriminator 1 view .LVU67
 269 001c 072B     		cmp	r3, #7
 270 001e F5D9     		bls	.L21
  92:..//kernel/core/tos_sched.c ****     }
  93:..//kernel/core/tos_sched.c **** 
  94:..//kernel/core/tos_sched.c ****     for (i = 0; i < K_PRIO_TBL_SIZE; ++i) {
 271              		.loc 1 94 12 view .LVU68
 272 0020 0023     		movs	r3, #0
 273              	.LVL21:
 274              	.L22:
 275              		.loc 1 94 5 discriminator 1 view .LVU69
 276 0022 03B1     		cbz	r3, .L23
  95:..//kernel/core/tos_sched.c ****         k_rdyq.prio_mask[i] = 0;
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 10


  96:..//kernel/core/tos_sched.c ****     }
  97:..//kernel/core/tos_sched.c **** }
 277              		.loc 1 97 1 view .LVU70
 278 0024 7047     		bx	lr
 279              	.L23:
  95:..//kernel/core/tos_sched.c ****         k_rdyq.prio_mask[i] = 0;
 280              		.loc 1 95 9 is_stmt 1 discriminator 3 view .LVU71
  95:..//kernel/core/tos_sched.c ****         k_rdyq.prio_mask[i] = 0;
 281              		.loc 1 95 29 is_stmt 0 discriminator 3 view .LVU72
 282 0026 03F11001 		add	r1, r3, #16
 283 002a 034A     		ldr	r2, .L24
 284 002c 0020     		movs	r0, #0
 285 002e 42F82100 		str	r0, [r2, r1, lsl #2]
  94:..//kernel/core/tos_sched.c ****         k_rdyq.prio_mask[i] = 0;
 286              		.loc 1 94 38 discriminator 3 view .LVU73
 287 0032 0133     		adds	r3, r3, #1
 288              	.LVL22:
  94:..//kernel/core/tos_sched.c ****         k_rdyq.prio_mask[i] = 0;
 289              		.loc 1 94 38 discriminator 3 view .LVU74
 290 0034 DBB2     		uxtb	r3, r3
 291              	.LVL23:
  94:..//kernel/core/tos_sched.c ****         k_rdyq.prio_mask[i] = 0;
 292              		.loc 1 94 38 discriminator 3 view .LVU75
 293 0036 F4E7     		b	.L22
 294              	.L25:
 295              		.align	2
 296              	.L24:
 297 0038 00000000 		.word	k_rdyq
 298              		.cfi_endproc
 299              	.LFE117:
 301              		.section	.text.readyqueue_add_head,"ax",%progbits
 302              		.align	1
 303              		.global	readyqueue_add_head
 304              		.syntax unified
 305              		.thumb
 306              		.thumb_func
 307              		.fpu softvfp
 309              	readyqueue_add_head:
 310              	.LVL24:
 311              	.LFB118:
  98:..//kernel/core/tos_sched.c **** 
  99:..//kernel/core/tos_sched.c **** __KNL__ void readyqueue_add_head(k_task_t *task)
 100:..//kernel/core/tos_sched.c **** {
 312              		.loc 1 100 1 is_stmt 1 view -0
 313              		.cfi_startproc
 314              		@ args = 0, pretend = 0, frame = 0
 315              		@ frame_needed = 0, uses_anonymous_args = 0
 316              		@ link register save eliminated.
 317              		.loc 1 100 1 is_stmt 0 view .LVU77
 318 0000 F0B4     		push	{r4, r5, r6, r7}
 319              	.LCFI1:
 320              		.cfi_def_cfa_offset 16
 321              		.cfi_offset 4, -16
 322              		.cfi_offset 5, -12
 323              		.cfi_offset 6, -8
 324              		.cfi_offset 7, -4
 101:..//kernel/core/tos_sched.c ****     k_prio_t task_prio;
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 11


 325              		.loc 1 101 5 is_stmt 1 view .LVU78
 102:..//kernel/core/tos_sched.c ****     k_list_t *task_list;
 326              		.loc 1 102 5 view .LVU79
 103:..//kernel/core/tos_sched.c **** 
 104:..//kernel/core/tos_sched.c ****     task_prio = task->prio;
 327              		.loc 1 104 5 view .LVU80
 328              		.loc 1 104 15 is_stmt 0 view .LVU81
 329 0002 90F82130 		ldrb	r3, [r0, #33]	@ zero_extendqisi2
 330              	.LVL25:
 105:..//kernel/core/tos_sched.c ****     task_list = &k_rdyq.task_list_head[task_prio];
 331              		.loc 1 105 5 is_stmt 1 view .LVU82
 332              		.loc 1 105 15 is_stmt 0 view .LVU83
 333 0006 134A     		ldr	r2, .L30
 334 0008 02EBC304 		add	r4, r2, r3, lsl #3
 335              	.LVL26:
 106:..//kernel/core/tos_sched.c **** 
 107:..//kernel/core/tos_sched.c ****     if (tos_list_empty(task_list)) {
 336              		.loc 1 107 5 is_stmt 1 view .LVU84
 337              	.LBB68:
 338              	.LBI68:
 138:..//kernel/core/include/tos_list.h **** {
 339              		.loc 2 138 31 view .LVU85
 340              	.LBB69:
 341              		.loc 2 140 5 view .LVU86
 342              		.loc 2 140 16 is_stmt 0 view .LVU87
 343 000c 52F83320 		ldr	r2, [r2, r3, lsl #3]
 344              	.LVL27:
 345              		.loc 2 140 16 view .LVU88
 346              	.LBE69:
 347              	.LBE68:
 348              		.loc 1 107 8 view .LVU89
 349 0010 9442     		cmp	r4, r2
 350 0012 09D0     		beq	.L29
 351              	.L27:
 108:..//kernel/core/tos_sched.c ****         readyqueue_prio_mark(task_prio);
 109:..//kernel/core/tos_sched.c ****     }
 110:..//kernel/core/tos_sched.c **** 
 111:..//kernel/core/tos_sched.c ****     tos_list_add(&task->pend_list, task_list);
 352              		.loc 1 111 5 is_stmt 1 view .LVU90
 353 0014 00F15001 		add	r1, r0, #80
 354              	.LVL28:
 355              	.LBB70:
 356              	.LBI70:
 105:..//kernel/core/include/tos_list.h **** {
 357              		.loc 2 105 32 view .LVU91
 358              	.LBE70:
 107:..//kernel/core/include/tos_list.h **** }
 359              		.loc 2 107 5 view .LVU92
 360              	.LBB73:
 361              	.LBB71:
 362              	.LBI71:
  80:..//kernel/core/include/tos_list.h **** {
 363              		.loc 2 80 24 view .LVU93
 364              	.LBB72:
  82:..//kernel/core/include/tos_list.h ****     node->next = next;
 365              		.loc 2 82 5 view .LVU94
  82:..//kernel/core/include/tos_list.h ****     node->next = next;
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 12


 366              		.loc 2 82 16 is_stmt 0 view .LVU95
 367 0018 5160     		str	r1, [r2, #4]
  83:..//kernel/core/include/tos_list.h ****     node->prev = prev;
 368              		.loc 2 83 5 is_stmt 1 view .LVU96
  83:..//kernel/core/include/tos_list.h ****     node->prev = prev;
 369              		.loc 2 83 16 is_stmt 0 view .LVU97
 370 001a 0265     		str	r2, [r0, #80]
  84:..//kernel/core/include/tos_list.h ****     prev->next = node;
 371              		.loc 2 84 5 is_stmt 1 view .LVU98
  84:..//kernel/core/include/tos_list.h ****     prev->next = node;
 372              		.loc 2 84 16 is_stmt 0 view .LVU99
 373 001c 4465     		str	r4, [r0, #84]
  85:..//kernel/core/include/tos_list.h **** }
 374              		.loc 2 85 5 is_stmt 1 view .LVU100
  85:..//kernel/core/include/tos_list.h **** }
 375              		.loc 2 85 16 is_stmt 0 view .LVU101
 376 001e 0D4A     		ldr	r2, .L30
 377              	.LVL29:
  85:..//kernel/core/include/tos_list.h **** }
 378              		.loc 2 85 16 view .LVU102
 379 0020 42F83310 		str	r1, [r2, r3, lsl #3]
 380              	.LVL30:
  85:..//kernel/core/include/tos_list.h **** }
 381              		.loc 2 85 16 view .LVU103
 382              	.LBE72:
 383              	.LBE71:
 384              	.LBE73:
 112:..//kernel/core/tos_sched.c **** }
 385              		.loc 1 112 1 view .LVU104
 386 0024 F0BC     		pop	{r4, r5, r6, r7}
 387              	.LCFI2:
 388              		.cfi_remember_state
 389              		.cfi_restore 7
 390              		.cfi_restore 6
 391              		.cfi_restore 5
 392              		.cfi_restore 4
 393              		.cfi_def_cfa_offset 0
 394              	.LVL31:
 395              		.loc 1 112 1 view .LVU105
 396 0026 7047     		bx	lr
 397              	.LVL32:
 398              	.L29:
 399              	.LCFI3:
 400              		.cfi_restore_state
 108:..//kernel/core/tos_sched.c ****     }
 401              		.loc 1 108 9 is_stmt 1 view .LVU106
 402              	.LBB74:
 403              	.LBI74:
  46:..//kernel/core/tos_sched.c **** {
 404              		.loc 1 46 24 view .LVU107
 405              	.LBB75:
  48:..//kernel/core/tos_sched.c **** 
 406              		.loc 1 48 5 view .LVU108
 407              	.LBB76:
 408              	.LBI76:
  36:..//kernel/core/tos_sched.c **** {
 409              		.loc 1 36 24 view .LVU109
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 13


 410              	.LBB77:
  38:..//kernel/core/tos_sched.c **** }
 411              		.loc 1 38 5 view .LVU110
  38:..//kernel/core/tos_sched.c **** }
 412              		.loc 1 38 40 is_stmt 0 view .LVU111
 413 0028 5909     		lsrs	r1, r3, #5
  38:..//kernel/core/tos_sched.c **** }
 414              		.loc 1 38 43 view .LVU112
 415 002a DF43     		mvns	r7, r3
 416 002c 07F01F07 		and	r7, r7, #31
 417 0030 0126     		movs	r6, #1
 418 0032 06FA07F7 		lsl	r7, r6, r7
  38:..//kernel/core/tos_sched.c **** }
 419              		.loc 1 38 40 view .LVU113
 420 0036 074D     		ldr	r5, .L30
 421 0038 1031     		adds	r1, r1, #16
 422 003a 55F82160 		ldr	r6, [r5, r1, lsl #2]
 423 003e 3E43     		orrs	r6, r6, r7
 424 0040 45F82160 		str	r6, [r5, r1, lsl #2]
 425              	.LVL33:
  38:..//kernel/core/tos_sched.c **** }
 426              		.loc 1 38 40 view .LVU114
 427              	.LBE77:
 428              	.LBE76:
  50:..//kernel/core/tos_sched.c ****         k_rdyq.highest_prio = prio;
 429              		.loc 1 50 5 is_stmt 1 view .LVU115
  50:..//kernel/core/tos_sched.c ****         k_rdyq.highest_prio = prio;
 430              		.loc 1 50 22 is_stmt 0 view .LVU116
 431 0044 95F84410 		ldrb	r1, [r5, #68]	@ zero_extendqisi2
  50:..//kernel/core/tos_sched.c ****         k_rdyq.highest_prio = prio;
 432              		.loc 1 50 8 view .LVU117
 433 0048 8B42     		cmp	r3, r1
 434 004a E3D2     		bcs	.L27
  51:..//kernel/core/tos_sched.c ****     }
 435              		.loc 1 51 9 is_stmt 1 view .LVU118
  51:..//kernel/core/tos_sched.c ****     }
 436              		.loc 1 51 29 is_stmt 0 view .LVU119
 437 004c 85F84430 		strb	r3, [r5, #68]
 438 0050 E0E7     		b	.L27
 439              	.L31:
 440 0052 00BF     		.align	2
 441              	.L30:
 442 0054 00000000 		.word	k_rdyq
 443              	.LBE75:
 444              	.LBE74:
 445              		.cfi_endproc
 446              	.LFE118:
 448              		.section	.text.readyqueue_add_tail,"ax",%progbits
 449              		.align	1
 450              		.global	readyqueue_add_tail
 451              		.syntax unified
 452              		.thumb
 453              		.thumb_func
 454              		.fpu softvfp
 456              	readyqueue_add_tail:
 457              	.LVL34:
 458              	.LFB119:
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 14


 113:..//kernel/core/tos_sched.c **** 
 114:..//kernel/core/tos_sched.c **** __KNL__ void readyqueue_add_tail(k_task_t *task)
 115:..//kernel/core/tos_sched.c **** {
 459              		.loc 1 115 1 is_stmt 1 view -0
 460              		.cfi_startproc
 461              		@ args = 0, pretend = 0, frame = 0
 462              		@ frame_needed = 0, uses_anonymous_args = 0
 463              		@ link register save eliminated.
 464              		.loc 1 115 1 is_stmt 0 view .LVU121
 465 0000 70B4     		push	{r4, r5, r6}
 466              	.LCFI4:
 467              		.cfi_def_cfa_offset 12
 468              		.cfi_offset 4, -12
 469              		.cfi_offset 5, -8
 470              		.cfi_offset 6, -4
 116:..//kernel/core/tos_sched.c ****     k_prio_t task_prio;
 471              		.loc 1 116 5 is_stmt 1 view .LVU122
 117:..//kernel/core/tos_sched.c ****     k_list_t *task_list;
 472              		.loc 1 117 5 view .LVU123
 118:..//kernel/core/tos_sched.c **** 
 119:..//kernel/core/tos_sched.c ****     task_prio = task->prio;
 473              		.loc 1 119 5 view .LVU124
 474              		.loc 1 119 15 is_stmt 0 view .LVU125
 475 0002 90F82130 		ldrb	r3, [r0, #33]	@ zero_extendqisi2
 476              	.LVL35:
 120:..//kernel/core/tos_sched.c ****     task_list = &k_rdyq.task_list_head[task_prio];
 477              		.loc 1 120 5 is_stmt 1 view .LVU126
 478              		.loc 1 120 15 is_stmt 0 view .LVU127
 479 0006 144A     		ldr	r2, .L36
 480 0008 02EBC304 		add	r4, r2, r3, lsl #3
 481              	.LVL36:
 121:..//kernel/core/tos_sched.c **** 
 122:..//kernel/core/tos_sched.c ****     if (tos_list_empty(task_list)) {
 482              		.loc 1 122 5 is_stmt 1 view .LVU128
 483              	.LBB78:
 484              	.LBI78:
 138:..//kernel/core/include/tos_list.h **** {
 485              		.loc 2 138 31 view .LVU129
 486              	.LBB79:
 487              		.loc 2 140 5 view .LVU130
 488              		.loc 2 140 16 is_stmt 0 view .LVU131
 489 000c 52F83320 		ldr	r2, [r2, r3, lsl #3]
 490              	.LVL37:
 491              		.loc 2 140 16 view .LVU132
 492              	.LBE79:
 493              	.LBE78:
 494              		.loc 1 122 8 view .LVU133
 495 0010 9442     		cmp	r4, r2
 496 0012 0BD0     		beq	.L35
 497              	.L33:
 123:..//kernel/core/tos_sched.c ****         readyqueue_prio_mark(task_prio);
 124:..//kernel/core/tos_sched.c ****     }
 125:..//kernel/core/tos_sched.c **** 
 126:..//kernel/core/tos_sched.c ****     tos_list_add_tail(&task->pend_list, task_list);
 498              		.loc 1 126 5 is_stmt 1 view .LVU134
 499 0014 00F15001 		add	r1, r0, #80
 500              	.LVL38:
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 15


 501              	.LBB80:
 502              	.LBI80:
 110:..//kernel/core/include/tos_list.h **** {
 503              		.loc 2 110 32 view .LVU135
 504              	.LBB81:
 112:..//kernel/core/include/tos_list.h **** }
 505              		.loc 2 112 5 view .LVU136
 112:..//kernel/core/include/tos_list.h **** }
 506              		.loc 2 112 25 is_stmt 0 view .LVU137
 507 0018 0F4A     		ldr	r2, .L36
 508 001a 02EBC303 		add	r3, r2, r3, lsl #3
 509              	.LVL39:
 112:..//kernel/core/include/tos_list.h **** }
 510              		.loc 2 112 25 view .LVU138
 511 001e 5A68     		ldr	r2, [r3, #4]
 512              	.LVL40:
 513              	.LBB82:
 514              	.LBI82:
  80:..//kernel/core/include/tos_list.h **** {
 515              		.loc 2 80 24 is_stmt 1 view .LVU139
 516              	.LBB83:
  82:..//kernel/core/include/tos_list.h ****     node->next = next;
 517              		.loc 2 82 5 view .LVU140
  82:..//kernel/core/include/tos_list.h ****     node->next = next;
 518              		.loc 2 82 16 is_stmt 0 view .LVU141
 519 0020 5960     		str	r1, [r3, #4]
  83:..//kernel/core/include/tos_list.h ****     node->prev = prev;
 520              		.loc 2 83 5 is_stmt 1 view .LVU142
  83:..//kernel/core/include/tos_list.h ****     node->prev = prev;
 521              		.loc 2 83 16 is_stmt 0 view .LVU143
 522 0022 0465     		str	r4, [r0, #80]
  84:..//kernel/core/include/tos_list.h ****     prev->next = node;
 523              		.loc 2 84 5 is_stmt 1 view .LVU144
  84:..//kernel/core/include/tos_list.h ****     prev->next = node;
 524              		.loc 2 84 16 is_stmt 0 view .LVU145
 525 0024 4265     		str	r2, [r0, #84]
  85:..//kernel/core/include/tos_list.h **** }
 526              		.loc 2 85 5 is_stmt 1 view .LVU146
  85:..//kernel/core/include/tos_list.h **** }
 527              		.loc 2 85 16 is_stmt 0 view .LVU147
 528 0026 1160     		str	r1, [r2]
 529              	.LVL41:
  85:..//kernel/core/include/tos_list.h **** }
 530              		.loc 2 85 16 view .LVU148
 531              	.LBE83:
 532              	.LBE82:
 533              	.LBE81:
 534              	.LBE80:
 127:..//kernel/core/tos_sched.c **** }
 535              		.loc 1 127 1 view .LVU149
 536 0028 70BC     		pop	{r4, r5, r6}
 537              	.LCFI5:
 538              		.cfi_remember_state
 539              		.cfi_restore 6
 540              		.cfi_restore 5
 541              		.cfi_restore 4
 542              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 16


 543              	.LVL42:
 544              		.loc 1 127 1 view .LVU150
 545 002a 7047     		bx	lr
 546              	.LVL43:
 547              	.L35:
 548              	.LCFI6:
 549              		.cfi_restore_state
 123:..//kernel/core/tos_sched.c ****     }
 550              		.loc 1 123 9 is_stmt 1 view .LVU151
 551              	.LBB84:
 552              	.LBI84:
  46:..//kernel/core/tos_sched.c **** {
 553              		.loc 1 46 24 view .LVU152
 554              	.LBB85:
  48:..//kernel/core/tos_sched.c **** 
 555              		.loc 1 48 5 view .LVU153
 556              	.LBB86:
 557              	.LBI86:
  36:..//kernel/core/tos_sched.c **** {
 558              		.loc 1 36 24 view .LVU154
 559              	.LBB87:
  38:..//kernel/core/tos_sched.c **** }
 560              		.loc 1 38 5 view .LVU155
  38:..//kernel/core/tos_sched.c **** }
 561              		.loc 1 38 40 is_stmt 0 view .LVU156
 562 002c 5A09     		lsrs	r2, r3, #5
  38:..//kernel/core/tos_sched.c **** }
 563              		.loc 1 38 43 view .LVU157
 564 002e DE43     		mvns	r6, r3
 565 0030 06F01F06 		and	r6, r6, #31
 566 0034 0125     		movs	r5, #1
 567 0036 05FA06F6 		lsl	r6, r5, r6
  38:..//kernel/core/tos_sched.c **** }
 568              		.loc 1 38 40 view .LVU158
 569 003a 0749     		ldr	r1, .L36
 570 003c 1032     		adds	r2, r2, #16
 571 003e 51F82250 		ldr	r5, [r1, r2, lsl #2]
 572 0042 3543     		orrs	r5, r5, r6
 573 0044 41F82250 		str	r5, [r1, r2, lsl #2]
 574              	.LVL44:
  38:..//kernel/core/tos_sched.c **** }
 575              		.loc 1 38 40 view .LVU159
 576              	.LBE87:
 577              	.LBE86:
  50:..//kernel/core/tos_sched.c ****         k_rdyq.highest_prio = prio;
 578              		.loc 1 50 5 is_stmt 1 view .LVU160
  50:..//kernel/core/tos_sched.c ****         k_rdyq.highest_prio = prio;
 579              		.loc 1 50 22 is_stmt 0 view .LVU161
 580 0048 91F84420 		ldrb	r2, [r1, #68]	@ zero_extendqisi2
  50:..//kernel/core/tos_sched.c ****         k_rdyq.highest_prio = prio;
 581              		.loc 1 50 8 view .LVU162
 582 004c 9342     		cmp	r3, r2
 583 004e E1D2     		bcs	.L33
  51:..//kernel/core/tos_sched.c ****     }
 584              		.loc 1 51 9 is_stmt 1 view .LVU163
  51:..//kernel/core/tos_sched.c ****     }
 585              		.loc 1 51 29 is_stmt 0 view .LVU164
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 17


 586 0050 81F84430 		strb	r3, [r1, #68]
 587 0054 DEE7     		b	.L33
 588              	.L37:
 589 0056 00BF     		.align	2
 590              	.L36:
 591 0058 00000000 		.word	k_rdyq
 592              	.LBE85:
 593              	.LBE84:
 594              		.cfi_endproc
 595              	.LFE119:
 597              		.section	.text.readyqueue_add,"ax",%progbits
 598              		.align	1
 599              		.global	readyqueue_add
 600              		.syntax unified
 601              		.thumb
 602              		.thumb_func
 603              		.fpu softvfp
 605              	readyqueue_add:
 606              	.LVL45:
 607              	.LFB120:
 128:..//kernel/core/tos_sched.c **** 
 129:..//kernel/core/tos_sched.c **** __KNL__ void readyqueue_add(k_task_t *task)
 130:..//kernel/core/tos_sched.c **** {
 608              		.loc 1 130 1 is_stmt 1 view -0
 609              		.cfi_startproc
 610              		@ args = 0, pretend = 0, frame = 0
 611              		@ frame_needed = 0, uses_anonymous_args = 0
 612              		.loc 1 130 1 is_stmt 0 view .LVU166
 613 0000 08B5     		push	{r3, lr}
 614              	.LCFI7:
 615              		.cfi_def_cfa_offset 8
 616              		.cfi_offset 3, -8
 617              		.cfi_offset 14, -4
 131:..//kernel/core/tos_sched.c ****     if (task->prio == k_curr_task->prio) {
 618              		.loc 1 131 5 is_stmt 1 view .LVU167
 619              		.loc 1 131 13 is_stmt 0 view .LVU168
 620 0002 90F82120 		ldrb	r2, [r0, #33]	@ zero_extendqisi2
 621              		.loc 1 131 34 view .LVU169
 622 0006 064B     		ldr	r3, .L43
 623 0008 1B68     		ldr	r3, [r3]
 624 000a 93F82130 		ldrb	r3, [r3, #33]	@ zero_extendqisi2
 625              		.loc 1 131 8 view .LVU170
 626 000e 9A42     		cmp	r2, r3
 627 0010 02D0     		beq	.L42
 132:..//kernel/core/tos_sched.c ****         readyqueue_add_tail(task);
 133:..//kernel/core/tos_sched.c ****     } else {
 134:..//kernel/core/tos_sched.c ****         readyqueue_add_head(task);
 628              		.loc 1 134 9 is_stmt 1 view .LVU171
 629 0012 FFF7FEFF 		bl	readyqueue_add_head
 630              	.LVL46:
 631              	.L38:
 135:..//kernel/core/tos_sched.c ****     }
 136:..//kernel/core/tos_sched.c **** }
 632              		.loc 1 136 1 is_stmt 0 view .LVU172
 633 0016 08BD     		pop	{r3, pc}
 634              	.LVL47:
 635              	.L42:
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 18


 132:..//kernel/core/tos_sched.c ****         readyqueue_add_tail(task);
 636              		.loc 1 132 9 is_stmt 1 view .LVU173
 637 0018 FFF7FEFF 		bl	readyqueue_add_tail
 638              	.LVL48:
 132:..//kernel/core/tos_sched.c ****         readyqueue_add_tail(task);
 639              		.loc 1 132 9 is_stmt 0 view .LVU174
 640 001c FBE7     		b	.L38
 641              	.L44:
 642 001e 00BF     		.align	2
 643              	.L43:
 644 0020 00000000 		.word	k_curr_task
 645              		.cfi_endproc
 646              	.LFE120:
 648              		.section	.text.readyqueue_remove,"ax",%progbits
 649              		.align	1
 650              		.global	readyqueue_remove
 651              		.syntax unified
 652              		.thumb
 653              		.thumb_func
 654              		.fpu softvfp
 656              	readyqueue_remove:
 657              	.LVL49:
 658              	.LFB121:
 137:..//kernel/core/tos_sched.c **** 
 138:..//kernel/core/tos_sched.c **** __KNL__ void readyqueue_remove(k_task_t *task)
 139:..//kernel/core/tos_sched.c **** {
 659              		.loc 1 139 1 is_stmt 1 view -0
 660              		.cfi_startproc
 661              		@ args = 0, pretend = 0, frame = 0
 662              		@ frame_needed = 0, uses_anonymous_args = 0
 663              		.loc 1 139 1 is_stmt 0 view .LVU176
 664 0000 10B5     		push	{r4, lr}
 665              	.LCFI8:
 666              		.cfi_def_cfa_offset 8
 667              		.cfi_offset 4, -8
 668              		.cfi_offset 14, -4
 140:..//kernel/core/tos_sched.c ****     k_prio_t task_prio;
 669              		.loc 1 140 5 is_stmt 1 view .LVU177
 141:..//kernel/core/tos_sched.c ****     k_list_t *task_list;
 670              		.loc 1 141 5 view .LVU178
 142:..//kernel/core/tos_sched.c **** 
 143:..//kernel/core/tos_sched.c ****     task_prio = task->prio;
 671              		.loc 1 143 5 view .LVU179
 672              		.loc 1 143 15 is_stmt 0 view .LVU180
 673 0002 90F82130 		ldrb	r3, [r0, #33]	@ zero_extendqisi2
 674              	.LVL50:
 144:..//kernel/core/tos_sched.c ****     task_list = &k_rdyq.task_list_head[task_prio];
 675              		.loc 1 144 5 is_stmt 1 view .LVU181
 676              		.loc 1 144 15 is_stmt 0 view .LVU182
 677 0006 134A     		ldr	r2, .L51
 678 0008 02EBC304 		add	r4, r2, r3, lsl #3
 679              	.LVL51:
 145:..//kernel/core/tos_sched.c **** 
 146:..//kernel/core/tos_sched.c ****     tos_list_del(&task->pend_list);
 680              		.loc 1 146 5 is_stmt 1 view .LVU183
 681              	.LBB88:
 682              	.LBI88:
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 19


 115:..//kernel/core/include/tos_list.h **** {
 683              		.loc 2 115 32 view .LVU184
 684              	.LBB89:
 117:..//kernel/core/include/tos_list.h **** }
 685              		.loc 2 117 5 view .LVU185
 117:..//kernel/core/include/tos_list.h **** }
 686              		.loc 2 117 19 is_stmt 0 view .LVU186
 687 000c 416D     		ldr	r1, [r0, #84]
 117:..//kernel/core/include/tos_list.h **** }
 688              		.loc 2 117 31 view .LVU187
 689 000e 006D     		ldr	r0, [r0, #80]
 690              	.LVL52:
 691              	.LBB90:
 692              	.LBI90:
  88:..//kernel/core/include/tos_list.h **** {
 693              		.loc 2 88 24 is_stmt 1 view .LVU188
 694              	.LBB91:
  90:..//kernel/core/include/tos_list.h ****     prev->next = next;
 695              		.loc 2 90 5 view .LVU189
  90:..//kernel/core/include/tos_list.h ****     prev->next = next;
 696              		.loc 2 90 16 is_stmt 0 view .LVU190
 697 0010 4160     		str	r1, [r0, #4]
  91:..//kernel/core/include/tos_list.h **** }
 698              		.loc 2 91 5 is_stmt 1 view .LVU191
  91:..//kernel/core/include/tos_list.h **** }
 699              		.loc 2 91 16 is_stmt 0 view .LVU192
 700 0012 0860     		str	r0, [r1]
 701              	.LVL53:
  91:..//kernel/core/include/tos_list.h **** }
 702              		.loc 2 91 16 view .LVU193
 703              	.LBE91:
 704              	.LBE90:
 705              	.LBE89:
 706              	.LBE88:
 147:..//kernel/core/tos_sched.c **** 
 148:..//kernel/core/tos_sched.c ****     if (tos_list_empty(task_list)) {
 707              		.loc 1 148 5 is_stmt 1 view .LVU194
 708              	.LBB92:
 709              	.LBI92:
 138:..//kernel/core/include/tos_list.h **** {
 710              		.loc 2 138 31 view .LVU195
 711              	.LBB93:
 712              		.loc 2 140 5 view .LVU196
 713              		.loc 2 140 16 is_stmt 0 view .LVU197
 714 0014 52F83320 		ldr	r2, [r2, r3, lsl #3]
 715              	.LVL54:
 716              		.loc 2 140 16 view .LVU198
 717              	.LBE93:
 718              	.LBE92:
 719              		.loc 1 148 8 view .LVU199
 720 0018 9442     		cmp	r4, r2
 721 001a 05D0     		beq	.L49
 722              	.LVL55:
 723              	.L46:
 149:..//kernel/core/tos_sched.c ****         readyqueue_prio_remove(task_prio);
 150:..//kernel/core/tos_sched.c ****     }
 151:..//kernel/core/tos_sched.c **** 
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 20


 152:..//kernel/core/tos_sched.c ****     if (task_prio == k_rdyq.highest_prio) {
 724              		.loc 1 152 5 is_stmt 1 view .LVU200
 725              		.loc 1 152 28 is_stmt 0 view .LVU201
 726 001c 0D4A     		ldr	r2, .L51
 727              	.LVL56:
 728              		.loc 1 152 28 view .LVU202
 729 001e 92F84420 		ldrb	r2, [r2, #68]	@ zero_extendqisi2
 730              	.LVL57:
 731              		.loc 1 152 8 view .LVU203
 732 0022 9A42     		cmp	r2, r3
 733 0024 10D0     		beq	.L50
 734              	.LVL58:
 735              	.L45:
 153:..//kernel/core/tos_sched.c ****         k_rdyq.highest_prio = readyqueue_prio_highest_get();
 154:..//kernel/core/tos_sched.c ****     }
 155:..//kernel/core/tos_sched.c **** }
 736              		.loc 1 155 1 view .LVU204
 737 0026 10BD     		pop	{r4, pc}
 738              	.LVL59:
 739              	.L49:
 149:..//kernel/core/tos_sched.c ****         readyqueue_prio_remove(task_prio);
 740              		.loc 1 149 9 is_stmt 1 view .LVU205
 741              	.LBB94:
 742              	.LBI94:
  41:..//kernel/core/tos_sched.c **** {
 743              		.loc 1 41 24 view .LVU206
 744              	.LBB95:
  43:..//kernel/core/tos_sched.c **** }
 745              		.loc 1 43 5 view .LVU207
  43:..//kernel/core/tos_sched.c **** }
 746              		.loc 1 43 40 is_stmt 0 view .LVU208
 747 0028 5A09     		lsrs	r2, r3, #5
  43:..//kernel/core/tos_sched.c **** }
 748              		.loc 1 43 44 view .LVU209
 749 002a D843     		mvns	r0, r3
 750 002c 00F01F00 		and	r0, r0, #31
 751 0030 0121     		movs	r1, #1
 752 0032 01FA00F0 		lsl	r0, r1, r0
  43:..//kernel/core/tos_sched.c **** }
 753              		.loc 1 43 40 view .LVU210
 754 0036 074C     		ldr	r4, .L51
 755              	.LVL60:
  43:..//kernel/core/tos_sched.c **** }
 756              		.loc 1 43 40 view .LVU211
 757 0038 1032     		adds	r2, r2, #16
 758 003a 54F82210 		ldr	r1, [r4, r2, lsl #2]
 759 003e 21EA0001 		bic	r1, r1, r0
 760 0042 44F82210 		str	r1, [r4, r2, lsl #2]
 761 0046 E9E7     		b	.L46
 762              	.LVL61:
 763              	.L50:
  43:..//kernel/core/tos_sched.c **** }
 764              		.loc 1 43 40 view .LVU212
 765              	.LBE95:
 766              	.LBE94:
 153:..//kernel/core/tos_sched.c ****         k_rdyq.highest_prio = readyqueue_prio_highest_get();
 767              		.loc 1 153 9 is_stmt 1 view .LVU213
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 21


 153:..//kernel/core/tos_sched.c ****         k_rdyq.highest_prio = readyqueue_prio_highest_get();
 768              		.loc 1 153 31 is_stmt 0 view .LVU214
 769 0048 FFF7FEFF 		bl	readyqueue_prio_highest_get
 770              	.LVL62:
 153:..//kernel/core/tos_sched.c ****         k_rdyq.highest_prio = readyqueue_prio_highest_get();
 771              		.loc 1 153 29 view .LVU215
 772 004c 014B     		ldr	r3, .L51
 773 004e 83F84400 		strb	r0, [r3, #68]
 774              		.loc 1 155 1 view .LVU216
 775 0052 E8E7     		b	.L45
 776              	.L52:
 777              		.align	2
 778              	.L51:
 779 0054 00000000 		.word	k_rdyq
 780              		.cfi_endproc
 781              	.LFE121:
 783              		.section	.text.readyqueue_move_head_to_tail,"ax",%progbits
 784              		.align	1
 785              		.global	readyqueue_move_head_to_tail
 786              		.syntax unified
 787              		.thumb
 788              		.thumb_func
 789              		.fpu softvfp
 791              	readyqueue_move_head_to_tail:
 792              	.LVL63:
 793              	.LFB122:
 156:..//kernel/core/tos_sched.c **** 
 157:..//kernel/core/tos_sched.c **** __KNL__ void readyqueue_move_head_to_tail(k_prio_t prio)
 158:..//kernel/core/tos_sched.c **** {
 794              		.loc 1 158 1 is_stmt 1 view -0
 795              		.cfi_startproc
 796              		@ args = 0, pretend = 0, frame = 0
 797              		@ frame_needed = 0, uses_anonymous_args = 0
 798              		@ link register save eliminated.
 159:..//kernel/core/tos_sched.c ****     k_list_t *task_list;
 799              		.loc 1 159 5 view .LVU218
 160:..//kernel/core/tos_sched.c **** 
 161:..//kernel/core/tos_sched.c ****     task_list = &k_rdyq.task_list_head[prio];
 800              		.loc 1 161 5 view .LVU219
 801              		.loc 1 161 15 is_stmt 0 view .LVU220
 802 0000 094B     		ldr	r3, .L59
 803 0002 03EBC001 		add	r1, r3, r0, lsl #3
 804              	.LVL64:
 162:..//kernel/core/tos_sched.c **** 
 163:..//kernel/core/tos_sched.c ****     if (!tos_list_empty(task_list)) {
 805              		.loc 1 163 5 is_stmt 1 view .LVU221
 806              	.LBB96:
 807              	.LBI96:
 138:..//kernel/core/include/tos_list.h **** {
 808              		.loc 2 138 31 view .LVU222
 809              	.LBB97:
 810              		.loc 2 140 5 view .LVU223
 811              		.loc 2 140 16 is_stmt 0 view .LVU224
 812 0006 53F83030 		ldr	r3, [r3, r0, lsl #3]
 813              	.LVL65:
 814              		.loc 2 140 16 view .LVU225
 815              	.LBE97:
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 22


 816              	.LBE96:
 817              		.loc 1 163 8 view .LVU226
 818 000a 9942     		cmp	r1, r3
 819 000c 0BD0     		beq	.L56
 158:..//kernel/core/tos_sched.c ****     k_list_t *task_list;
 820              		.loc 1 158 1 view .LVU227
 821 000e 10B4     		push	{r4}
 822              	.LCFI9:
 823              		.cfi_def_cfa_offset 4
 824              		.cfi_offset 4, -4
 164:..//kernel/core/tos_sched.c ****         tos_list_move_tail(task_list->next, task_list);
 825              		.loc 1 164 9 is_stmt 1 view .LVU228
 826              	.LVL66:
 827              	.LBB98:
 828              	.LBI98:
 132:..//kernel/core/include/tos_list.h **** {
 829              		.loc 2 132 32 view .LVU229
 830              	.LBE98:
 134:..//kernel/core/include/tos_list.h ****     tos_list_add_tail(node, list);
 831              		.loc 2 134 5 view .LVU230
 832              	.LBB107:
 833              	.LBB99:
 834              	.LBI99:
  94:..//kernel/core/include/tos_list.h **** {
 835              		.loc 2 94 24 view .LVU231
 836              	.LBB100:
  96:..//kernel/core/include/tos_list.h **** }
 837              		.loc 2 96 5 view .LVU232
  96:..//kernel/core/include/tos_list.h **** }
 838              		.loc 2 96 19 is_stmt 0 view .LVU233
 839 0010 5A68     		ldr	r2, [r3, #4]
  96:..//kernel/core/include/tos_list.h **** }
 840              		.loc 2 96 31 view .LVU234
 841 0012 1C68     		ldr	r4, [r3]
 842              	.LVL67:
 843              	.LBB101:
 844              	.LBI101:
  88:..//kernel/core/include/tos_list.h **** {
 845              		.loc 2 88 24 is_stmt 1 view .LVU235
 846              	.LBB102:
  90:..//kernel/core/include/tos_list.h ****     prev->next = next;
 847              		.loc 2 90 5 view .LVU236
  90:..//kernel/core/include/tos_list.h ****     prev->next = next;
 848              		.loc 2 90 16 is_stmt 0 view .LVU237
 849 0014 6260     		str	r2, [r4, #4]
  91:..//kernel/core/include/tos_list.h **** }
 850              		.loc 2 91 5 is_stmt 1 view .LVU238
  91:..//kernel/core/include/tos_list.h **** }
 851              		.loc 2 91 16 is_stmt 0 view .LVU239
 852 0016 1460     		str	r4, [r2]
 853              	.LVL68:
  91:..//kernel/core/include/tos_list.h **** }
 854              		.loc 2 91 16 view .LVU240
 855              	.LBE102:
 856              	.LBE101:
 857              	.LBE100:
 858              	.LBE99:
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 23


 859              	.LBE107:
 135:..//kernel/core/include/tos_list.h **** }
 860              		.loc 2 135 5 is_stmt 1 view .LVU241
 861              	.LBB108:
 862              	.LBB103:
 863              	.LBI103:
 110:..//kernel/core/include/tos_list.h **** {
 864              		.loc 2 110 32 view .LVU242
 865              	.LBB104:
 112:..//kernel/core/include/tos_list.h **** }
 866              		.loc 2 112 5 view .LVU243
 112:..//kernel/core/include/tos_list.h **** }
 867              		.loc 2 112 25 is_stmt 0 view .LVU244
 868 0018 4A68     		ldr	r2, [r1, #4]
 869              	.LVL69:
 870              	.LBB105:
 871              	.LBI105:
  80:..//kernel/core/include/tos_list.h **** {
 872              		.loc 2 80 24 is_stmt 1 view .LVU245
 873              	.LBB106:
  82:..//kernel/core/include/tos_list.h ****     node->next = next;
 874              		.loc 2 82 5 view .LVU246
  82:..//kernel/core/include/tos_list.h ****     node->next = next;
 875              		.loc 2 82 16 is_stmt 0 view .LVU247
 876 001a 4B60     		str	r3, [r1, #4]
  83:..//kernel/core/include/tos_list.h ****     node->prev = prev;
 877              		.loc 2 83 5 is_stmt 1 view .LVU248
  83:..//kernel/core/include/tos_list.h ****     node->prev = prev;
 878              		.loc 2 83 16 is_stmt 0 view .LVU249
 879 001c 1960     		str	r1, [r3]
  84:..//kernel/core/include/tos_list.h ****     prev->next = node;
 880              		.loc 2 84 5 is_stmt 1 view .LVU250
  84:..//kernel/core/include/tos_list.h ****     prev->next = node;
 881              		.loc 2 84 16 is_stmt 0 view .LVU251
 882 001e 5A60     		str	r2, [r3, #4]
  85:..//kernel/core/include/tos_list.h **** }
 883              		.loc 2 85 5 is_stmt 1 view .LVU252
  85:..//kernel/core/include/tos_list.h **** }
 884              		.loc 2 85 16 is_stmt 0 view .LVU253
 885 0020 1360     		str	r3, [r2]
 886              	.LVL70:
  85:..//kernel/core/include/tos_list.h **** }
 887              		.loc 2 85 16 view .LVU254
 888              	.LBE106:
 889              	.LBE105:
 890              	.LBE104:
 891              	.LBE103:
 892              	.LBE108:
 165:..//kernel/core/tos_sched.c ****     }
 166:..//kernel/core/tos_sched.c **** }
 893              		.loc 1 166 1 view .LVU255
 894 0022 10BC     		pop	{r4}
 895              	.LCFI10:
 896              		.cfi_restore 4
 897              		.cfi_def_cfa_offset 0
 898 0024 7047     		bx	lr
 899              	.LVL71:
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 24


 900              	.L56:
 901              		.loc 1 166 1 view .LVU256
 902 0026 7047     		bx	lr
 903              	.L60:
 904              		.align	2
 905              	.L59:
 906 0028 00000000 		.word	k_rdyq
 907              		.cfi_endproc
 908              	.LFE122:
 910              		.text
 911              	.Letext0:
 912              		.file 3 "d:\\arm_gcc\\8 2019-q3-update\\arm-none-eabi\\include\\machine\\_default_types.h"
 913              		.file 4 "d:\\arm_gcc\\8 2019-q3-update\\arm-none-eabi\\include\\sys\\_stdint.h"
 914              		.file 5 "Drivers/CMSIS/Include/core_cm3.h"
 915              		.file 6 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 916              		.file 7 "d:\\arm_gcc\\8 2019-q3-update\\lib\\gcc\\arm-none-eabi\\8.3.1\\include\\stddef.h"
 917              		.file 8 "d:\\arm_gcc\\8 2019-q3-update\\arm-none-eabi\\include\\sys\\_types.h"
 918              		.file 9 "d:\\arm_gcc\\8 2019-q3-update\\arm-none-eabi\\include\\sys\\reent.h"
 919              		.file 10 "d:\\arm_gcc\\8 2019-q3-update\\arm-none-eabi\\include\\sys\\lock.h"
 920              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 921              		.file 12 "..//kernel/core/include/tos_ktypes.h"
 922              		.file 13 "..//kernel/core/include/tos_task.h"
 923              		.file 14 "d:\\arm_gcc\\8 2019-q3-update\\arm-none-eabi\\include\\stdlib.h"
 924              		.file 15 "..//kernel/core/include/tos_pend.h"
 925              		.file 16 "..//kernel/core/include/tos_sys.h"
 926              		.file 17 "..//kernel/core/include/tos_timer.h"
 927              		.file 18 "..//kernel/core/include/tos_mmheap.h"
 928              		.file 19 "..//kernel/core/include/tos_sched.h"
 929              		.file 20 "..//kernel/core/include/tos_global.h"
 930              		.file 21 "..//arch/arm/arm-v7m/common/include/tos_cpu.h"
ARM GAS  C:\Users\tianx\AppData\Local\Temp\ccE19suI.s 			page 25


DEFINED SYMBOLS
                            *ABS*:00000000 tos_sched.c
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:16     .text.readyqueue_prio_highest_get:00000000 $t
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:23     .text.readyqueue_prio_highest_get:00000000 readyqueue_prio_highest_get
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:79     .text.readyqueue_prio_highest_get:0000001c $d
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:84     .text.readyqueue_is_prio_onlyone:00000000 $t
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:91     .text.readyqueue_is_prio_onlyone:00000000 readyqueue_is_prio_onlyone
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:123    .text.readyqueue_is_prio_onlyone:00000018 $d
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:128    .text.readyqueue_first_task_get:00000000 $t
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:135    .text.readyqueue_first_task_get:00000000 readyqueue_first_task_get
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:176    .text.readyqueue_first_task_get:00000018 $d
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:181    .text.readyqueue_highest_ready_task_get:00000000 $t
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:188    .text.readyqueue_highest_ready_task_get:00000000 readyqueue_highest_ready_task_get
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:210    .text.readyqueue_highest_ready_task_get:00000010 $d
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:215    .text.readyqueue_init:00000000 $t
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:222    .text.readyqueue_init:00000000 readyqueue_init
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:297    .text.readyqueue_init:00000038 $d
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:302    .text.readyqueue_add_head:00000000 $t
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:309    .text.readyqueue_add_head:00000000 readyqueue_add_head
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:442    .text.readyqueue_add_head:00000054 $d
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:449    .text.readyqueue_add_tail:00000000 $t
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:456    .text.readyqueue_add_tail:00000000 readyqueue_add_tail
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:591    .text.readyqueue_add_tail:00000058 $d
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:598    .text.readyqueue_add:00000000 $t
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:605    .text.readyqueue_add:00000000 readyqueue_add
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:644    .text.readyqueue_add:00000020 $d
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:649    .text.readyqueue_remove:00000000 $t
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:656    .text.readyqueue_remove:00000000 readyqueue_remove
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:779    .text.readyqueue_remove:00000054 $d
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:784    .text.readyqueue_move_head_to_tail:00000000 $t
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:791    .text.readyqueue_move_head_to_tail:00000000 readyqueue_move_head_to_tail
C:\Users\tianx\AppData\Local\Temp\ccE19suI.s:906    .text.readyqueue_move_head_to_tail:00000028 $d

UNDEFINED SYMBOLS
tos_cpu_clz
k_rdyq
k_curr_task
